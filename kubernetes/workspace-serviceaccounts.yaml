# Department-based ServiceAccounts with IRSA (IAM Roles for Service Accounts)
# Each department has a dedicated ServiceAccount annotated with their IAM role
# This enables pods to assume department-specific AWS permissions

---
# Infra Team ServiceAccount
apiVersion: v1
kind: ServiceAccount
metadata:
  name: workspace-infra
  namespace: workspaces
  labels:
    department: infra
  annotations:
    eks.amazonaws.com/role-arn: "arn:aws:iam::920120424621:role/innovatech-employee-lifecycle-infra-role"
---
# Developer ServiceAccount
apiVersion: v1
kind: ServiceAccount
metadata:
  name: workspace-developer
  namespace: workspaces
  labels:
    department: developer
  annotations:
    eks.amazonaws.com/role-arn: "arn:aws:iam::920120424621:role/innovatech-employee-lifecycle-developer-role"
---
# HR Team ServiceAccount
apiVersion: v1
kind: ServiceAccount
metadata:
  name: workspace-hr
  namespace: workspaces
  labels:
    department: hr
  annotations:
    eks.amazonaws.com/role-arn: "arn:aws:iam::920120424621:role/innovatech-employee-lifecycle-hr-role"
---
# Manager ServiceAccount
apiVersion: v1
kind: ServiceAccount
metadata:
  name: workspace-manager
  namespace: workspaces
  labels:
    department: manager
  annotations:
    eks.amazonaws.com/role-arn: "arn:aws:iam::920120424621:role/innovatech-employee-lifecycle-manager-role"
---
# Admin ServiceAccount
apiVersion: v1
kind: ServiceAccount
metadata:
  name: workspace-admin
  namespace: workspaces
  labels:
    department: admin
  annotations:
    eks.amazonaws.com/role-arn: "arn:aws:iam::920120424621:role/innovatech-employee-lifecycle-admin-role"
---
# Default workspace ServiceAccount (for employees without specific department)
apiVersion: v1
kind: ServiceAccount
metadata:
  name: workspace-default
  namespace: workspaces
  labels:
    department: default
  annotations:
    eks.amazonaws.com/role-arn: "arn:aws:iam::920120424621:role/innovatech-employee-lifecycle-developer-role"
